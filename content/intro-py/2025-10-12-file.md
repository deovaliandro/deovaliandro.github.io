+++
title     = "File"
date      = "2025-10-12"
+++

Python dapat membuka dan mengedit file. Namun sebelum bisa di edit, file
tersebut harus dibuka terlebih dahulu.

## membuka file

untuk membuka file, kita menggunakan perintah `open`, contohnya:

```python
myfile = open("filename.txt")
```

> filename.txt adalah nama file atau path tempat file tersebut disimpan

Untuk membuka file, juga dapat menerima argumen kedua yang mana berfungsi untuk
`permision file`.

Ada beberapa kode, yaitu:

1. `r` berfungsi untuk `read mode`,
2. `w` untuk `write`, berarti untuk menulis ulang ke dalam file,
3. `a` untuk `append` yaitu akan menambah sesuatu di akhir file,
4. `b` untuk mode `binary`, digunakan untuk membuka file non-teks seperti
   gambar, suara, video dan berbagai format lain.

Contohnya:

```python
# write mode
open("filename.txt", "w")

# read mode
open("filename.txt", "r")
open("filename.txt")

# binary write mode
open("filename.txt", "wb")
```

> Dapat digunakan tanda `+` untuk menambah ekstra akses, misalnya `r+` untuk
> mode `read` dan `write` bersamaan.

Kita dapat menampilkan isi file dengan perintah:

```python
file = open("filename.txt", "r")
cont = file.read()
print(cont)
file.close()
```

atau, kita membatasi jumlah `byte` yang dibaca,

```python
file = open("filename.txt", "r")
print(file.read(16))
print(file.read(4))
print(file.read(4))
print(file.read())
file.close()
```

> Jika `file.read()` tidak diberikan nilai atau negatif, maka file akan dibaca
> semua.

Setelah semua file di read, maka jika di read ulang, akan menghasilkan string
kosong. Hal ini disebabkan program sudah mencapai `end of file`.

Untuk membaca file baris per baris, kita dapat menggunakan perintah
`readline()`, contohnya jika terdapat file dengan isi:

```txt
Halo semua,
nama saya
Deo Valiandro. M
```

lalu dibaca baris per baris,

```python
file = open("filename.txt", "r")
print(file.readlines())
file.close()
```

maka akan menghasilkan:

```python
['Halo semua,\n', 'nama saya\n', 'Deo Valiandro. M']
```

dapat juga digunakan perintah `for`:

```python
file = open("filename.txt", "r")

for line in file:
    print(line)

file.close()
```

hasilnya:

```python
Halo semua,

nama saya

Deo Valiandro. M
```

> Di output, baris dipisahkan oleh baris kosong, karena fungsi print secara
otomatis menambahkan baris baru di akhir outputnya.

## menulis file

untuk menulis `string` ke dalam file:

```python
file = open("newfile.txt", "w")
file.write("This has been written to a file")
file.close()

file = open("newfile.txt", "r")
print(file.read())
file.close()
```

Hasilnya:

```python
This has been written to a file
```

> Parameter `w` akan otomatis membuat file baru jika file yang dituju tidak ada

File yang sementara terbuka, isinya akan kosong. Buktinya:

```python
file = open("newfile.txt", "r")
print("Reading initial contents")
print(file.read())
print("Finished")
file.close()

file = open("newfile.txt", "w")
file.write("Some new text")
file.close()

file = open("newfile.txt", "r")
print("Reading new contents")
print(file.read())
print("Finished")
file.close()
```

Hasilnya:

```python
Reading initial contents
some initial text
Finished
Reading new contents
Some new text
Finished
```

Method `write` akan meng-return jumlah `byte` yang ditulis ke dalam file.

```python
msg = "Hello world!"
file = open("newfile.txt", "w")
amount_written = file.write(msg)
print(amount_written)
file.close()
```

Hasilnya:

```python
12
```

> Untuk menulis tipe data selain string, maka data tersebut harus di convert ke
> string.

Untuk bekerja lebih interaktif pada file, maka digunakan `try/finally`.
Contohnya:

```python
try:
    f = open("filename.txt")
    print(f.read())
finally:
    f.close()
```

ini akan menyebabkan file tersebut terbuka terus menerus kecuali terdapat error.

Alternatif lain adalah menggunakan perintah `with`. Contohnya:

```python
with open("filename.txt") as f:
    print(f.read())
```

dengan cara tersebut, maka akan membuat variabel sementara (variabel `f`). File
akan otomatis tertutup ketika perintah `with` selesai.

## menutup file

setiap file yang terbuka, harus ditutup kembali setelah digunakan. Untuk
melakukannya, dapat dilakukan:

```python
file = open("filename.txt", "w")
# do stuff to the file
file.close()
```
